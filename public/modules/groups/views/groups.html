<div class="wrapper" ng-init="loadGroups()" ng-cloak>
    <div class="container">
        <div class="content-page">
            <div class="content">
                <div class="container">
                    <div class="page-header">
                        <h3 class="page-title">Edit Store Groups</h3>
                        <ol class="breadcrumb">
                            <li><a href="#/dashboard">Dashboard</a></li>
                            <li><a href="#/showGroups">Groups</a></li>
                            <li class="active">Store Groups</li>
                        </ol>
                    </div>
                    <!-- /.page-header -->
                    <div ng-class="alerttype" role="alert" ng-show="showmessage">
                        <strong>{{message}}</strong>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="portlet portlet-boxed">
                                <div class="portlet-header pull-left">
                                    <h4 class="portlet-title">
                                    Stores Details
                                    </h4>
                                </div>
                                <div class="">
                                    <button type="button" class="btn btn-primary btn-sm pull-right" data-toggle="modal" data-target="#myModal" ng-click="store = {}"><i class="glyphicon glyphicon-plus"></i> Add Group</button>
                                </div>
                                <!-- /.portlet-header -->
                                <div class="portlet-body">
                                     <table class="table" ng-table="tableParams" ng-show="simpleList.length > 0">
                                        <thead>
                                            <tr>
                                                <th>#</th>
                                                <th>Name</th>
                                                <th>Store Icon</th>
                                                <th>Hide Stores</th>
                                                <th>Hide After</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="x in $data">
                                                <th>{{$index + 1}}</th>
                                                <td>{{ x.group_name}}</td>
                                                <td><i class="glyphicon glyphicon-map-marker" style="color:{{x.color}};size:30px;"></i></td>
                                                <td><i ng-show="x.never == true && x.hide != 'N/A'" class="glyphicon glyphicon-ok" style="color:green;"></i>
                                                    <i ng-show="x.never == false && x.hide == 'N/A'" class="glyphicon glyphicon-remove" style="color:red;"></i>
                                                </td>
                                                <td>{{x.hide}}</td>
                                                <td>
                                                    <button class="btn btn-primary btn-sm" ng-click="edit(x)" data-toggle="modal" data-target="#myModal" ng-if="x.group_name != 'Default'">
                                                        <i class="glyphicon glyphicon-edit"></i>
                                                    </button> <span ng-if="x.group_name != 'Default'">|</span>
                                                    <button class="btn btn-primary btn-sm" ng-click="deleteGroup(x._id)" ng-if="x.group_name != 'Default'">
                                                        <i class="glyphicon glyphicon-trash"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    </div>
                                    <div class="form-group">
                                        <div class="container">
                                            <!-- Modal -->
                                            <div class="modal fade" id="myModal" role="dialog">
                                                <div class="modal-dialog">
                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                            <h4 class="modal-title">Enter Group Details</h4>
                                                        </div>
                                                        <div ng-class="alerttypeModal" role="alert" ng-show="showmessageModal">
                                                            <strong>{{messageModal}}</strong>
                                                        </div>
                                                        <div class="modal-body">
                                                            <form class="form-horizontal" name="groupForm">
                                                                <fieldset class="">
                                                                    <div class="portlet portlet-boxed">
                                                                        <div class="portlet-body">
                                                                            <div class="form-group">
                                                                                <label class="control-label col-md-2">Group Name: *</label>
                                                                                <div class="col-md-10">
                                                                                    <input name="group_name" class="form-control" ng-model="store.group_name" type="text" required/>
                                                                                    <span class="customColor" ng-show="groupForm.group_name.$touched && groupForm.group_name.$invalid">Group Name is required.</span>
                                                                                </div>
                                                                                <!-- /.col -->
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label class="control-label col-md-2">Select Icon: *</label>
                                                                                <div class="col-md-10">
                                                                                    <select class="form-control" ng-model="store.color" name="color_list" required>
                                                                                        <option value="" disabled selected>Select Icon Color</option>
                                                                                        <option value="black">Black</option>
                                                                                        <option value="blue">Blue</option>
                                                                                        <option value="brown">Brown</option>
                                                                                        <option value="green">Green</option>
                                                                                        <option value="red">Red</option>
                                                                                        <option value="yellow">Yellow</option>
                                                                                        <option value="orange">Orange</option>
                                                                                    </select>
                                                                                    <span class="customColor" ng-show="groupForm.color_list.$touched && groupForm.color_list.$invalid">Select Icon color.</span>
                                                                                </div>
                                                                                <!-- /.col -->
                                                                            </div>
                                                                            <!-- /.form-group -->
                                                                            <div class="form-group">
                                                                                <label class="control-label col-md-2">Hide Stores:</label>
                                                                                <div class="col-md-10">
                                                                                    <div class="radio">
                                                                                        <label>
                                                                                            <input type="radio" checked="checked" name="radio-set-1" value="never" ng-model="store.hide"> Never hide a store
                                                                                        </label>
                                                                                    </div>
                                                                                    <div class="radio">
                                                                                        <label>
                                                                                            <input type="radio" checked="checked" name="radio-set-1" value="hide" ng-model="store.hide"> Hide a store after
                                                                                        </label>
                                                                                        <input ng-show="store.hide == 'hide'" type="text" numbers-only style="width:80px;" ng-model="store.hideValue" /><span ng-show="store.hide == 'hide'">days</span>
                                                                                    </div>
                                                                                </div>
                                                                                <!-- /.col -->
                                                                            </div>
                                                                            <!-- /.form-group -->
                                                                            <!-- /.form-group -->
                                                                        </div>
                                                                        <!-- /.portlet-body -->
                                                                    </div>
                                                                    <!-- /.portlet -->
                                                                </fieldset>
                                                            </form>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-info" data-dismiss="modal" ng-click="store = {}"><i class="glyphicon glyphicon-remove"></i> Close</button>
                                                            <button type="button" ng-show="!edit_id" class="btn btn-primary" ng-click="addGroup()" ng-disabled="groupForm.$invalid"><i class="glyphicon glyphicon-ok"></i> Add Group</button>
                                                            <button type="button" ng-show="edit_id" class="btn btn-primary" ng-click="editGroup(edit_id)" ng-disabled="groupForm.$invalid" ng-disabled="groupForm.$invalid"><i class="glyphicon glyphicon-ok"></i> Update Group</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                               
                                <!-- /.portlet-body -->
                            </div>
                            <!-- /.portlet -->
                        </div>
                        <!-- /. col -->
                    </div>
                    <br class="xs-60">
                </div>
                <!-- /.container -->
            </div>
            <!-- .content -->
        </div>
        <!-- /.content-page -->
    </div>
</div>
